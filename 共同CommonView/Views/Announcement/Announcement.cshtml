@{
    Layout = "~/Views/Shared/_Index.cshtml";
}
<style>
    .modeldetail {
        border: 1px solid #aaa;
        padding: 5px;
        margin-bottom: 3px;
        color: #333;
    }

    .modeldetail-title {
        font-size: 16px;
        padding-left: 3px;
        color: #000;
    }

    .modeldetail-cont span {
        display: inline-block;
        box-sizing: border-box;
        width: 350px;
        padding: 8px 5px;
    }

    ul, li {
        list-style: none;
    }

    .BasicInformation, .PayInformation {
        width: 100%;
        height: auto;
    }

    .title1 {
        height: 30px;
        background-image: url('../../../../Content/assets/images/title.png');
        background-size: 125px 30px;
        background-position: left bottom;
        background-repeat: no-repeat;
        margin-bottom: 3px;
        margin-top: 3px;
        line-height: 30px;
        text-indent: 20px;
        font-size: 2.2em;
        color: #fff;
    }

    .Down {
        display: block;
        position: absolute;
        right: 10px;
        top: 4px;
        font-size: 3.4em;
        color: #4175bb;
    }

        .Down img {
            width: 30px;
            height: 30px;
        }

    .form-inline {
        width: 100%;
        height: auto;
    }

        .form-inline:after {
            content: ".";
            visibility: hidden;
            display: block;
            height: 0px;
            clear: both;
        }

    .boder {
        box-shadow: 1px 0px 2px #9a9696;
        border: 1px solid #abb3b9;
        background-color: #eff2f5;
        border-left: 0px;
    }

    .turn {
        transform: rotate(180deg);
        -ms-transform: rotate(180deg); /* IE 9 */
        -webkit-transform: rotate(180deg); /* Safari and Chrome */
    }

    #tab li {
        list-style: none;
        border: 1px solid #7692cb;
        background: #fff;
        padding: 2px 5px;
        width: 85px;
        text-align: center;
        line-height: 20px;
        cursor: pointer;
    }

        #tab li.tabactive {
            background: #3b9de1;
            color: #fff;
        }

    .replyType {
        padding-top: 5px;
    }

    .model-tab-cont {
        padding: 5px;
    }

    .New {
        padding: 5px;
        background-color: #3a9de1;
        color: #fff;
    }
    .w-e-text-container {
        height: 200px !important;
    }
    .button {
    position:absolute;
      left: 324px;
    top: 227px;

    }
    .times {
    position: absolute;
    left: 0px;
    top: 25px;
    font-size: 4px;
    }
    #content {
     left:5px !important;
     
    }
</style>
<div id="apps" class="pt-5 pl-5 pr-5">
    <div class="row m-0">
        <div id="updataupdata" style="display:none;background-color:#e7eaeb;">
            <div id="content" style="height:91%;">
                <div style="margin:0px auto;font-size:large;">
                    <p id="notices" style="margin: 0px 7px 14px;text-align:center">2017中秋节放假通知</p>
                   
                    <div id="times" class="times"><p class="worker"><span style="padding:5px;"></span>事业部：<span>张丽丽</span><span style="margin-left:294px">2017-9-28</span></p></div>
                </div>

                <div style="height:85%;width:98%;border:1px solid #ccc; z-index:10000;margin-top:25px;">
                    <div id="editors" contenteditable="true" style="width:100%; height:100%;" class="w-e-text">
                        <p style="height:30px;line-height:30px;text-align:center;">自2017年10月1日到2017年10月8日放假八天</p>
                    </div>
                </div>

            </div>
            @*<div class="button">
                <button class="btn btn-primary btn-sm" onclick=Delete(this)><span>删除</span></button>
                <button class="btn btn-primary btn-sm" onclick=Update(this)><span>修改</span></button>
                <button class="btn btn-primary btn-sm" onclick=Close(this)><span>关闭</span></button>
            </div>*@
        </div>
        <div class="col-md-12 p-0 col-sm-12">
           
                @*<erp-edit-table class="edit-top" v-bind:columrender="columrender" v-model="S_Menu.S_Button_List" v_id="OrderFormDetailList" v-bind:row_edit_callback="rowEditCallback" v-bind:row_edit_blur_callback="rowEditBlurCallback" v-bind:columheaderseach="columHeaderSeach"></erp-edit-table>*@
                <div id="div_table_orderForm" class="table">
                    <table id="orderForm" style="float: left;" class="display cell-border" cellspacing="0" width="100%">
                        <thead class="head_bg">
                            <tr>
                                <th class="td_Align_center sorting_disabled" style="width: 0px;" aria-label="行号"><i class="fa fa-gear" style="font-size: 15px;"></i></th>
                                <th>标题</th>
                                <th>部门</th>
                                <th>日期</th>
                                <th>发起人</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="td_Align_center">1</td>
                                <td style="text-align:left !important;">2018年元旦放假通知 <img src="~/Content/assets/images/New.gif" style="width:27px;" /></td>
                                <td style="text-align:center !important;">事业部</td>
                                <td style="text-align:center !important;">2017-12-28 </td>
                                <td style="text-align:center !important;">张丽丽 </td>
                            </tr>
                            <tr>
                                <td class="td_Align_center">2</td>
                                <td style="text-align:left !important;">2017年国庆放假通知<img src="~/Content/assets/images/New.gif" style="width:27px;" /></td>
                                <td style="text-align:center !important;">事业部</td>
                                <td style="text-align:center !important;">2017-9-28 </td>
                                <td style="text-align:center !important;">张丽丽 </td>
                            </tr>
                            <tr>
                                <td class="td_Align_center">3</td>
                                <td style="text-align:left !important;">2017年中秋节放假通知 <img src="~/Content/assets/images/New.gif" style="width:27px;" /></td>
                                <td style="text-align:center !important;">事业部</td>
                                <td style="text-align:center !important;">2017-9-28 </td>
                                <td style="text-align:center !important;">张丽丽 </td>
                            </tr>

                        </tbody>

                    </table>
                </div>
            </div>
        </div>

</div>


<script>

    $(document).ready(function () {
        $(".down1").click(function () {
            $(".tile-body").toggle();
            $(this).find("i").toggleClass('rotate');
            $("#div_table_orderForm > #orderForm_wrapper > .dataTables_scroll > .dataTables_scrollBody").height($(window).outerHeight() - $("#div_table_orderForm .dataTables_scrollBody").offset().top - $("#div_table_orderForm .tableBottom").outerHeight() - 10);
            PageCommon.RefreshTablePage("orderForm");
        })
        $(".more").click(function () {
            $(this).find("i").toggleClass('rotate');
            $(".tile-body").toggleClass("tile-body1");
            $("#div_table_orderForm > #orderForm_wrapper > .dataTables_scroll > .dataTables_scrollBody").height($(window).outerHeight() - $("#div_table_orderForm .dataTables_scrollBody").offset().top - $("#div_table_orderForm .tableBottom").outerHeight() - 10);
            PageCommon.RefreshTablePage("orderForm");
        })



        $("#provider,#ModelNumber,#storageName,#typeSpecification,#brand,#place,#prepared,#tm,#department,#customerName,#DocumentsState,#MoveNumber,#LendNumber,#Tasker,#department").select2({
            placeholder: "请选择",
            minimumResultsForSearch: -1,
            templateSelection: function formatRepoSelection(repo) {
                $("#provider,#ModelNumber,#storageName,#typeSpecification,#brand,#place,#prepared,#tm,#department,#customerName,#DocumentsState,#MoveNumber,#LendNumber,#Tasker,#department").val("");
                return $(repo.element).attr("value");
            }
        });

        $("#paymentWay,#bills,#currency,#searchnum,#apping,#LendNumber").select2({
            placeholder: "请选择",
            allowClear: true,//删除x图标
            minimumResultsForSearch: Infinity
        });
        var tw = $("#div_table_orderForm").width();
        var vm = $('#orderForm').DataTable({
            "select": true,
            "autoWidth": false,
            "sScrollX": true,
            "sScrollXInner": "900px",
            "dom": 'rt<"tableBottom clearfix"<"pull-left"l>p<"pull-right ml-10 mr-10"i><"toolbar mr-10 pull-right">>',
            "searching": false,
            "sScrollY": true,
            "language": {
                "sProcessing": "处理中...",
                "sLengthMenu": "显示 _MENU_ 项结果",
                "sZeroRecords": "没有匹配结果",
                "sInfo": "显示第 _START_ 至 _END_ 条结果，共 _TOTAL_ 条",
                "sInfoEmpty": "显示第 0 至 0 项结果，共 0 项",
                "sInfoFiltered": "(由 _MAX_ 项结果过滤)",
                "sInfoPostFix": "",
                "sSearch": "搜索:",
                "sUrl": "",
                "sEmptyTable": "查询的数据不存在！",
                "sLoadingRecords": "载入中...",
                "sInfoThousands": ",",
                "oPaginate": {
                    "sFirst": "首页",
                    "sPrevious": "上页",
                    "sNext": "下页",
                    "sLast": "末页"
                },
                "oAria": {
                    "sSortAscending": ": 以升序排列此列",
                    "sSortDescending": ": 以降序排列此列"
                }
            }
        });
        $("div.toolbar").html("<div style='font-size:12px;color:#333;padding-top:3px;'>跳转到第<input type='text' style='width:30px;height:20px;margin:0 5px 0 5px;'/>页<span style='color:#fff;font-size:12px;cursor: pointer;margin-left:10px;padding:2px 3px;' class='btn-primary'>跳转</span><div>")
        //$(".dataTables_scrollBody").height($(window).outerHeight() - $(".dataTables_scrollBody").offset().top - $(".tableBottom").outerHeight() - $(".dataTables_scrollFoot").outerHeight());
        $("#div_table_orderForm .dataTables_scrollBody").height($(window).outerHeight() - $("#div_table_orderForm .dataTables_scrollBody").offset().top - $("#div_table_orderForm .tableBottom").outerHeight()-20);
        PageCommon.RefreshTablePage("orderForm");
        $('#orderForm tbody').on('click', 'td.details-control', function () {



            var tr = $(this).closest('tr');

            var row = vm.row(tr);
            tr.attr("id", row.index());

            if (row.child.isShown()) {
                row.child.hide();
                tr.removeClass('shown');
                $("#orderForm_wrapper .DTFC_LeftBodyWrapper").show();
            } else {

                $("#" + row.index()).addClass("shown");

                var $table = $($("#table_test").html());
                $table.attr("id", "mendetial_" + row.index());


                row.child($table[0]).show();


                var childTable = $table.DataTable({
                    "select": true,
                    "autoWidth": false,
                    "sScrollX": true,
                    "sScrollXInner": 400,
                    "info": "false",
                    "dom": 'rt<"tableBottom clearfix"<"pull-left"l>p<"pull-right ml-10 mr-10"i><"toolbar mr-10 pull-right">>',
                    "searching": false,
                    "sScrollY": true,

                    "language": {
                        "sProcessing": "处理中...",
                        "sLengthMenu": "显示 _MENU_ 项结果",
                        "sZeroRecords": "没有匹配结果",
                        "sInfo": "显示第 _START_ 至 _END_ 条结果，共 _TOTAL_ 条",
                        "sInfoEmpty": "显示第 0 至 0 项结果，共 0 项",
                        "sInfoFiltered": "(由 _MAX_ 项结果过滤)",
                        "sInfoPostFix": "",
                        "sSearch": "搜索:",
                        "sUrl": "",
                        "sEmptyTable": "查询的数据不存在！",
                        "sLoadingRecords": "载入中...",
                        "sInfoThousands": ",",
                        "oPaginate": {
                            "sFirst": "首页",
                            "sPrevious": "上页",
                            "sNext": "下页",
                            "sLast": "末页"
                        },
                        "oAria": {
                            "sSortAscending": ": 以升序排列此列",
                            "sSortDescending": ": 以降序排列此列"
                        }
                    },


                });
                $(childTable.table().container()).width(400);
                //$("#orderForm").find(" .dataTables_scrollBody").css("padding-bottom", "28px");
                $("#orderForm_wrapper .DTFC_LeftBodyWrapper").hide();

            }
        });
        $("#orderForm tbody tr").dblclick(function () {
            PageCommon.ModalOpen({
                id: "note",
                maxmin: false,
                title: '公告内容',
                width: "500px",
                height: "300px",
                btn: [],
                url: '/CommonView/Announcement/NoticeDetail'

            })
           
        })
    });

</script>

<script>
    //菜单主键
    var keyValue = PageCommon.Request("keyValue");
    var menu_vue = new Vue({
        el: '#apps',
        data: {
            zdrq:'',
        },
        mounted: function () {

            //控件拖动
            $('.form-group').arrangeable({
                dragSelector: '.space'
            });
            $('.form-group').arrangeable({
                dragSelector: '.shade_Bg'
            });
            $("#searchForm").on("drag.end.arrangeable", function (sender, dragElement) {
                //console.log(b)
                //console.log(c);
            });
            if (keyValue) {
                PageCommon.GetFormData({
                    url: "EditSeach",
                    param: { keyValue: [keyValue] }
                    , success: function (data) {
                        menu_vue.S_Menu = data;
                    }
                });
            }
        },
        methods: {

        }
    });
</script>
